{% extends "rest_framework/base.html" %}

{% block content %}
<div class="content-main" role="main" aria-label="main content">
    <div class="page-header">
        <h1>{{ name }}</h1>
    </div>
    <p>There are {{ queuedtaskcount }} unfinished tasks in the queue with the most recent completion at {{ lastfinishtime }} (as of {% now "H:i:s" %} UTC).</p>
    In the last seven days there were {{ sevendaytasks }} tasks ({{ sevendaytaskrate }}) from {{ sevendayusers }} users. In this period:
    <ul style="padding-left: 2em">
        <li>Load factor (arrival rate / completion rate): {{ sevendayloadpercent }}</li>
        <li>Average queue waiting time: {{ sevendayavgwaittime }}</li>
        <li>Average task running time: {{ sevendayavgruntime }}</li>
    </ul>

    <p>In the last 30 days, there were {{ thirtydaytasks }} tasks ({{ thirtydaytaskrate }}) from {{ thirtyddayusers }} users. The most active countries are:</p>
    <table class="countrystats">
        <tr><th></th><th>Tasks</th><th>Users</th></tr>
    {% for row in countrylist %}
      <tr><td>{{ row.0 }}</td><td>{{ row.1 }}</td><td>{{ row.2 }}</td></tr>
    {% endfor %}
    </table>

    <p>The most active regions are:</p>
    <table class="countrystats">
        <tr><th></th><th>Tasks</th></tr>
    {% for row in regionlist %}
      <tr><td>{{ row.0 }}</td><td>{{ row.1 }}</td></tr>
    {% endfor %}
    </table>
    {{ htmlchart | safe }}
</div>
{% endblock %}